#pragma once

#include <stdlib.h>
#include <stdio.h>
#include <vector>

#include "block.hh"

// 7 shapes, in 4 different orientation fills a 4x4 area
const int SHAPES[7][4][16] = {
    // bar
    {{0, 0, 1, 0,
      0, 0, 1, 0,
      0, 0, 1, 0,
      0, 0, 1, 0},

     {0, 0, 0, 0,
      0, 0, 0, 0,
      1, 1, 1, 1,
      0, 0, 0, 0},

     {0, 1, 0, 0,
      0, 1, 0, 0,
      0, 1, 0, 0,
      0, 1, 0, 0},

     {0, 0, 0, 0,
      1, 1, 1, 1,
      0, 0, 0, 0,
      0, 0, 0, 0}},

    // pyramid
    {{0, 0, 0, 0,
      0, 0, 1, 0,
      0, 1, 1, 1,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 0, 1, 0,
      0, 0, 1, 1,
      0, 0, 1, 0},

     {0, 0, 0, 0,
      0, 0, 0, 0,
      0, 1, 1, 1,
      0, 0, 1, 0},

     {0, 0, 0, 0,
      0, 0, 1, 0,
      0, 1, 1, 0,
      0, 0, 1, 0}},

    // cube
    {{0, 0, 0, 0,
      0, 1, 1, 0,
      0, 1, 1, 0,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 1, 1, 0,
      0, 1, 1, 0,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 1, 1, 0,
      0, 1, 1, 0,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 1, 1, 0,
      0, 1, 1, 0,
      0, 0, 0, 0}},

    // S
    {{0, 0, 0, 0,
      0, 0, 1, 1,
      0, 1, 1, 0,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 1, 0, 0,
      0, 1, 1, 0,
      0, 0, 1, 0},

     {0, 0, 0, 0,
      0, 0, 1, 1,
      0, 1, 1, 0,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 1, 0, 0,
      0, 1, 1, 0,
      0, 0, 1, 0}},

    // Anti S
    {{0, 0, 0, 0,
      0, 1, 1, 0,
      0, 0, 1, 1,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 0, 1, 0,
      0, 1, 1, 0,
      0, 1, 0, 0},

     {0, 0, 0, 0,
      0, 1, 1, 0,
      0, 0, 1, 1,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 0, 1, 0,
      0, 1, 1, 0,
      0, 1, 0, 0}},

    // L
    {{0, 0, 0, 0,
      0, 1, 1, 0,
      0, 0, 1, 0,
      0, 0, 1, 0},

     {0, 0, 0, 0,
      0, 0, 1, 0,
      1, 1, 1, 0,
      0, 0, 0, 0},

     {0, 1, 0, 0,
      0, 1, 0, 0,
      0, 1, 1, 0,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 1, 1, 1,
      0, 1, 0, 0,
      0, 0, 0, 0}},

    // anti L
    {{0, 0, 0, 0,
      0, 1, 1, 0,
      0, 1, 0, 0,
      0, 1, 0, 0},

     {0, 0, 0, 0,
      1, 1, 1, 0,
      0, 0, 1, 0,
      0, 0, 0, 0},

     {0, 0, 1, 0,
      0, 0, 1, 0,
      0, 1, 1, 0,
      0, 0, 0, 0},

     {0, 0, 0, 0,
      0, 1, 0, 0,
      0, 1, 1, 1,
      0, 0, 0, 0}},
};

class Object
{
private:
    Block *blocks[4];
    int posX, posY;
    int shape, rotation;

public:
    Object(/* args */);
    ~Object();
};